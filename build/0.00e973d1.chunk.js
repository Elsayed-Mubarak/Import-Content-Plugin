(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1841:function(e,t,n){"use strict";var a=n(8),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(36)),i=r(n(44)),u=r(n(40)),l=a(n(1)),d=r(n(2)),c=n(34),f=n(9),s=n(12),p=n(85),m=n(20),g=r(n(104)),v=r(n(1875)),y=r(n(1955)),b=r(n(1965)),E=r(n(1966)),h=r(n(1878)),x=r(n(1879)),I=r(n(1967)),w=n(1907),_=r(n(649)),R=r(n(1969)),D=r(n(1885)),C=a(n(1970)),O=function(e){var t=e.currentEnvironment,n=e.deleteLayout,a=e.deleteLayouts,r=e.componentsAndModelsMainPossibleMainFields,d=e.history.push,O=e.plugins,S=e.slug,T=(0,c.useParams)(),M=T.componentSlug,P=T.type,k=(0,s.useGlobalContext)().emitEvent,L=(0,l.useReducer)(C.default,C.initialState),F=(0,u.default)(L,2),j=F[0],N=F[1],z=(0,l.useState)(!1),A=(0,u.default)(z,2),U=A[0],W=A[1],q=(0,l.useState)(!1),B=(0,u.default)(q,2),H=B[0],J=B[1],V="content-types"===P?"col-8":"col-12",Z=new AbortController,G=Z.signal,K=j.toJS(),Q=K.componentLayouts,X=K.isLoading,Y=K.initialData,$=K.metaToEdit,ee=K.modifiedData,te=K.metaForm,ne=(0,l.useMemo)((function(){return(0,f.get)(ee,["schema","attributes"],{})}),[ee]),ae=(0,l.useMemo)((function(){return(0,f.get)(ee,["schema","info","name"],"")}),[ee]),re=(0,l.useCallback)((function(){return(0,f.get)(ee,["layouts","edit"],[])}),[ee]),oe=(0,l.useCallback)((function(){return(0,f.get)(ee,["layouts","editRelations"],[])}),[ee]),ie=(0,l.useCallback)((function(e){if("relation"!==e&&"component"!==e)return[];var t="component"===e?"component":"targetModel",n=(0,f.get)(ee,["schema","attributes",$,t],"");return(0,f.get)(r,[n],[])}),[$,r,ee]);(0,l.useEffect)((function(){return function(){var e,t;o.default.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.default.awrap((0,s.request)((0,v.default)("".concat(P,"/").concat(S||M)),{method:"GET",signal:G}));case 3:e=n.sent,t=e.data,N({type:"GET_DATA_SUCCEEDED",data:t.contentType||t.component,componentLayouts:t.components}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),20!==n.t0.code&&strapi.notification.error("notification.error");case 11:case"end":return n.stop()}}),null,null,[[0,8]])}(),function(){Z.abort()}}),[S,P,M]);var ue=function(e){var t=e.target,n=t.name,a=t.value;N({type:"ON_CHANGE_META",keys:n.split("."),value:a})},le=function(){W((function(e){return!e}))};return l.default.createElement(_.default,{attributes:ne,buttonData:function(){var e=ne,t=(0,f.get)(ee,["metadatas"],{}),n=re().reduce((function(e,t){return[].concat((0,i.default)(e),(0,i.default)(t.rowContent))}),[]);return Object.keys(e).filter((function(t){return"relation"!==(0,f.get)(e,[t,"type"],"")})).filter((function(e){return!0===(0,f.get)(t,[e,"edit","visible"],!1)})).filter((function(e){return-1===n.findIndex((function(t){return t.name===e}))}))}(),componentLayouts:Q,goTo:d,isDraggingSibling:H,layout:re(),metadatas:(0,f.get)(ee,["metadatas"],{}),moveItem:function(e,t,n,a){N(n===a?{type:"REORDER_ROW",dragRowIndex:n,dragIndex:e,hoverIndex:t}:{type:"REORDER_DIFF_ROW",dragIndex:e,hoverIndex:t,dragRowIndex:n,hoverRowIndex:a})},moveRow:function(e,t){N({type:"MOVE_ROW",dragRowIndex:e,hoverRowIndex:t})},onAddData:function(e){N({type:"ON_ADD_DATA",name:e})},relationsLayout:oe(),removeField:function(e,t){N({type:"REMOVE_FIELD",rowIndex:e,fieldIndex:t})},setEditFieldToSelect:function(e){N({type:"SET_FIELD_TO_EDIT",name:e}),le()},setIsDraggingSibling:J,selectedItemName:$},l.default.createElement(x.default,{inputs:[{label:{id:"".concat(g.default,".containers.SettingPage.editSettings.entry.title")},description:{id:"".concat(g.default,".containers.SettingPage.editSettings.entry.title.description")},type:"select",name:"settings.mainField",customBootstrapClass:"col-md-4",selectOptions:["id"],didCheckErrors:!1,validations:{}}],initialData:Y,isLoading:X,modifiedData:ee,name:ae,onChange:function(e){var t=e.target,n=t.name,a=t.value;N({type:"ON_CHANGE",keys:n.split("."),value:a})},onConfirmReset:function(){N({type:"ON_RESET"})},onConfirmSubmit:function(){var e;return o.default.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=(0,f.cloneDeep)(ee),(0,f.set)(e,"layouts.edit",(0,w.unformatLayout)(e.layouts.edit)),delete e.schema,delete e.uid,delete e.isComponent,delete e.category,t.next=9,o.default.awrap((0,s.request)((0,v.default)("".concat(P,"/").concat(S||M)),{method:"PUT",body:e,signal:G}));case 9:N({type:"SUBMIT_SUCCEEDED"}),S&&n(S),M&&a(),k("didEditEditSettings"),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),strapi.notification.error("notification.error");case 18:case"end":return t.stop()}}),null,null,[[0,15]])},slug:S||M,isEditSettings:!0},l.default.createElement("div",{className:"row"},l.default.createElement(E.default,{className:V},l.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.default.createElement("div",null,l.default.createElement(b.default,{title:"".concat(g.default,".global.displayedFields"),description:"".concat(g.default,".containers.SettingPage.editSettings.description")})),l.default.createElement("div",{style:{marginTop:-6}},(0,D.default)("editSettingsView","left.links",O,t,S,d,{componentSlug:M,type:P,modifiedData:ee})))),"components"!==P&&l.default.createElement(E.default,{className:"col-4"},l.default.createElement(b.default,{title:"".concat(g.default,".containers.SettingPage.relations"),description:"".concat(g.default,".containers.SettingPage.editSettings.description")})),l.default.createElement(y.default,{className:V}),"components"!==P&&l.default.createElement(I.default,{addItem:function(e){N({type:"ADD_RELATION",name:e})},buttonData:function(){var e=ne,t=oe();return Object.keys(e).filter((function(t){return"relation"===(0,f.get)(e,[t,"type"],"")})).filter((function(e){return-1===t.indexOf(e)}))}(),moveItem:function(e,t){N({type:"MOVE_RELATION",dragIndex:e,hoverIndex:t})},removeItem:function(e){N({type:"REMOVE_RELATION",index:e})}}))),l.default.createElement(h.default,{headerId:"".concat(g.default,".containers.EditSettingsView.modal-form.edit-field"),isOpen:U,onClosed:function(){N({type:"UNSET_FIELD_TO_EDIT"})},onSubmit:function(e){e.preventDefault(),N({type:"SUBMIT_META_FORM"}),le()},onToggle:le,renderForm:function(){return Object.keys((0,f.get)(ee,["metadatas",$,"edit"],{})).filter((function(e){return"visible"!==e})).map((function(e,t){var n=(0,f.get)(ne,[$,"type"]);return("dynamiczone"!==n||["label","description"].includes(e))&&("component"!==n&&"media"!==n||"label"===e)&&("json"!==n&&"boolean"!==n||"placeholder"!==e)?"richtext"===n&&"editable"===e?null:l.default.createElement("div",{className:"col-6",key:e,style:{marginBottom:4}},l.default.createElement(m.FormattedMessage,{id:"".concat(g.default,".containers.SettingPage.editSettings.entry.title.description")},(function(a){return l.default.createElement(m.FormattedMessage,{id:(0,f.get)((0,R.default)(e),"label.id","app.utils.defaultMessage")},(function(r){return l.default.createElement(p.Inputs,{autoFocus:0===t,description:"mainField"===e?a:"",label:r,name:e,type:(0,R.default)(e).type,onBlur:function(){},value:(0,f.get)(te,e,""),onChange:ue,options:ie(n)})}))}))):null}))},subHeaderContent:$,type:(0,f.get)(ne,[$,"type"],"")}))};O.defaultProps={deleteAllLayouts:function(){},slug:null},O.propTypes={components:d.default.array.isRequired,models:d.default.array.isRequired,currentEnvironment:d.default.string,deleteLayout:d.default.func.isRequired,deleteLayouts:d.default.func,componentsAndModelsMainPossibleMainFields:d.default.object.isRequired,history:d.default.shape({push:d.default.func}).isRequired,location:d.default.shape({search:d.default.string.isRequired}).isRequired,plugins:d.default.object,slug:d.default.string};var S=O;t.default=S},1854:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  padding: 18px 30px 18px 30px;\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o());t.default=i},1867:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  .btn-group button {\n    line-height: 28px;\n  }\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o());t.default=i},1875:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(104)),o=function(e){return"/".concat(r.default,"/").concat(e)};t.default=o},1876:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(2)),i=n(46),u=a(n(1877)),l=function(e){var t=e.children,n=e.componentUid,a=e.friendlyName,o=e.icon,l=e.onClick;return r.default.createElement(u.default,{onClick:function(e){e.preventDefault(),e.stopPropagation(),l(n)}},r.default.createElement("button",{className:"component-icon"},r.default.createElement(i.FontAwesomeIcon,{icon:o})),r.default.createElement("div",{className:"component-uid"},r.default.createElement("span",null,a)),t)};l.defaultProps={children:null,friendlyName:"",onClick:function(){},icon:"smile"},l.propTypes={children:o.default.node,componentUid:o.default.string.isRequired,friendlyName:o.default.string,icon:o.default.string,onClick:o.default.func};var d=l;t.default=d},1877:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  position: relative;\n  height: 90px;\n  width: 139px !important;\n  margin-right: 10px;\n  padding: 18px 10px;\n  background-color: #ffffff;\n  color: #919bae;\n  text-align: center;\n  border-radius: 2px;\n  cursor: pointer;\n  border: 1px solid #ffffff;\n\n  button {\n    outline: 0;\n  }\n\n  .component-uid {\n    width: 119px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    color: #919bae;\n    font-weight: 500;\n    font-size: 13px;\n    line-height: normal;\n  }\n\n  .component-icon {\n    width: 35px;\n    height: 35px;\n    margin-bottom: 5px;\n    line-height: 35px;\n    align-self: center;\n    border-radius: 50%;\n    background-color: #e9eaeb;\n    color: #b4b6ba;\n    padding: 0;\n    i,\n    svg {\n      margin: auto;\n      display: block;\n    }\n  }\n\n  &:hover {\n    background-color: #e6f0fb;\n    color: #007eff;\n    border: 1px solid #aed4fb;\n\n    .component-icon {\n      background-color: #aed4fb;\n      color: #007eff;\n    }\n    .component-uid {\n      color: #007eff;\n    }\n  }\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o());t.default=i},1878:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(2)),i=n(12),u=n(20),l=n(9),d=n(45),c=function(e){var t=e.headerId,n=e.isOpen,a=e.onClosed,o=e.onSubmit,c=e.onToggle,f=e.renderForm,s=e.subHeaderContent,p=e.type;return r.default.createElement(i.Modal,{isOpen:n,onClosed:a,onToggle:c},r.default.createElement(i.HeaderModal,null,r.default.createElement("section",null,r.default.createElement(i.HeaderModalTitle,{style:{textTransform:"none"}},r.default.createElement(d.AttributeIcon,{type:"timestamp"===p?"date":["decimal","float","integer","biginter"].includes(p)?"number":p,style:{margin:"auto 20px auto 0"}}),r.default.createElement(u.FormattedMessage,{id:t}))),r.default.createElement("section",null,r.default.createElement(i.HeaderModalTitle,null,r.default.createElement("span",null,(0,l.upperFirst)(s)),r.default.createElement("hr",null)))),r.default.createElement("form",{onSubmit:o},r.default.createElement(i.ModalForm,null,r.default.createElement(i.ModalBody,null,f())),r.default.createElement(i.ModalFooter,null,r.default.createElement("section",null,r.default.createElement(d.Button,{onClick:c,color:"cancel"},r.default.createElement(u.FormattedMessage,{id:"components.popUpWarning.button.cancel"})),r.default.createElement(d.Button,{type:"submit",color:"success"},r.default.createElement(u.FormattedMessage,{id:"form.button.done"}))))))};c.defaultProps={isOpen:!1,onClosed:function(){},onSubmit:function(){},onToggle:function(){},renderForm:function(){},subHeaderContent:"",type:""},c.propTypes={headerId:o.default.string.isRequired,isOpen:o.default.bool,onClosed:o.default.func,onSubmit:o.default.func,onToggle:o.default.func,renderForm:o.default.func,subHeaderContent:o.default.string,type:o.default.string};var f=c;t.default=f},1879:function(e,t,n){"use strict";var a=n(8),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(36)),i=r(n(18)),u=r(n(44)),l=r(n(40)),d=a(n(1)),c=r(n(2)),f=n(9),s=n(34),p=n(20),m=n(85),g=n(12),v=r(n(104)),y=r(n(1880)),b=r(n(1854)),E=r(n(1882)),h=r(n(1884)),x=function(e){var t=e.children,n=e.history.goBack,a=e.getListDisplayedFields,r=e.inputs,c=e.initialData,s=e.isEditSettings,x=e.isLoading,I=e.modifiedData,w=e.onChange,_=e.onConfirmReset,R=e.onConfirmSubmit,D=e.name,C=(0,g.useGlobalContext)(),O=C.emitEvent,S=C.formatMessage,T=(0,d.useState)(!1),M=(0,l.default)(T,2),P=M[0],k=M[1],L=(0,d.useState)(!1),F=(0,l.default)(L,2),j=F[0],N=F[1],z=(0,d.useMemo)((function(){return(0,f.get)(I,["schema","attributes"],{})}),[I]),A=function(){return k((function(e){return!e}))},U=function(){return N((function(e){return!e}))},W={actions:[{color:"cancel",onClick:A,title:S({id:"".concat(v.default,".popUpWarning.button.cancel")}),type:"button",disabled:!!(0,f.isEqual)(I,c),style:{fontWeight:600,paddingLeft:15,paddingRight:15}},{color:"success",title:S({id:"".concat(v.default,".containers.Edit.submit")}),type:"submit",disabled:!!(0,f.isEqual)(I,c),style:{minWidth:150,fontWeight:600}}],title:{label:S({id:"".concat(v.default,".components.SettingsViewWrapper.pluginHeader.title")},{name:(0,f.upperFirst)(D)})},content:S({id:"".concat(v.default,".components.SettingsViewWrapper.pluginHeader.description.").concat(s?"edit":"list","-settings")})},q=function(e){if("settings.defaultSortBy"===e.name)return["id"].concat((0,u.default)(a().filter((function(e){return"media"!==(0,f.get)(z,[e,"type"],"")&&"id"!==e&&"richtext"!==(0,f.get)(z,[e,"type"],"")}))));if("settings.mainField"===e.name){var t=z;return Object.keys(t).filter((function(e){var n=(0,f.get)(t,[e,"type"],"");return!["json","text","relation","component","boolean","date","media","richtext"].includes(n)&&!!n}))}return e.options};return x?d.default.createElement(g.LoadingIndicatorPage,null):d.default.createElement(d.default.Fragment,null,d.default.createElement(g.BackHeader,{onClick:n}),d.default.createElement(b.default,{className:"container-fluid"},d.default.createElement("form",{onSubmit:function(e){e.preventDefault(),U(),O("willSaveContentTypeLayout")}},d.default.createElement(m.Header,W),d.default.createElement("div",{className:"row",style:{paddingTop:"3px"}},d.default.createElement(y.default,{style:{marginBottom:"13px",paddingBottom:"30px",paddingTop:"24px"}},d.default.createElement(E.default,{isSettings:!0}),d.default.createElement("div",{className:"row"},r.map((function(e){return d.default.createElement(p.FormattedMessage,{key:e.name,id:e.label.id},(function(t){return d.default.createElement("div",{className:e.customBootstrapClass,style:{marginBottom:1}},d.default.createElement(p.FormattedMessage,{id:(0,f.get)(e,"description.id","app.utils.defaultMessage")},(function(n){return d.default.createElement(m.Inputs,(0,i.default)({},e,{description:n,label:" "===t?null:t,onChange:w,options:q(e),value:(0,f.get)(I,e.name,"")}))})))}))})),d.default.createElement("div",{className:"col-12"},d.default.createElement(h.default,{style:{marginBottom:23}}))),d.default.createElement(E.default,null),t)),d.default.createElement(g.PopUpWarning,{isOpen:P,toggleModal:A,content:{title:"".concat(v.default,".popUpWarning.title"),message:"".concat(v.default,".popUpWarning.warning.cancelAllSettings"),cancel:"".concat(v.default,".popUpWarning.button.cancel"),confirm:"".concat(v.default,".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:function(){_(),A()}}),d.default.createElement(g.PopUpWarning,{isOpen:j,toggleModal:U,content:{title:"".concat(v.default,".popUpWarning.title"),message:"".concat(v.default,".popUpWarning.warning.updateAllSettings"),cancel:"".concat(v.default,".popUpWarning.button.cancel"),confirm:"".concat(v.default,".popUpWarning.button.confirm")},popUpWarningType:"danger",onConfirm:function(){return o.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.default.awrap(R());case 2:U();case 3:case"end":return e.stop()}}))}}))))};x.defaultProps={getListDisplayedFields:function(){return[]},inputs:[],initialData:{},isEditSettings:!1,modifiedData:{},name:"",onConfirmReset:function(){},onConfirmSubmit:function(){return o.default.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},onSubmit:function(){},pluginHeaderProps:{actions:[],description:{id:"app.utils.defaultMessage"},title:{id:"app.utils.defaultMessage",values:{}}}},x.propTypes={children:c.default.node.isRequired,getListDisplayedFields:c.default.func,history:c.default.shape({goBack:c.default.func.isRequired}).isRequired,initialData:c.default.object,inputs:c.default.array,isEditSettings:c.default.bool,isLoading:c.default.bool.isRequired,modifiedData:c.default.object,name:c.default.string,onChange:c.default.func.isRequired,onConfirmReset:c.default.func,onConfirmSubmit:c.default.func,onSubmit:c.default.func,pluginHeaderProps:c.default.shape({actions:c.default.array,description:c.default.shape({id:c.default.string}),title:c.default.shape({id:c.default.string,values:c.default.object})})};var I=(0,s.withRouter)(x);t.default=I},1880:function(e,t,n){"use strict";var a=n(0),r=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=a(n(2)),u=n(20),l=n(1881),d=function(e){return o.default.createElement("p",null,e)},c=function(e){var t=e.children,n=e.description,a=e.style,r=e.title;return o.default.createElement("div",{className:"col-md-12"},o.default.createElement(l.Wrapper,{style:a},o.default.createElement(l.Sub,null,!!r&&o.default.createElement("p",null,o.default.createElement(u.FormattedMessage,{id:r})),!!n&&o.default.createElement(u.FormattedMessage,{id:n},d)),t))};c.defaultProps={children:null,description:null,style:{},title:null},c.propTypes={children:i.default.any,description:i.default.string,style:i.default.object,title:i.default.string};var f=(0,o.memo)(c);t.default=f},1881:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Sub=t.Wrapper=void 0;var r=a(n(7)),o=a(n(4));function i(){var e=(0,r.default)(["\n  padding-top: 0px;\n  line-height: 18px;\n  > p:first-child {\n    margin-bottom: 1px;\n    font-weight: 700;\n    color: #333740;\n    font-size: 1.8rem;\n  }\n  > p {\n    color: #787e8f;\n    font-size: 13px;\n  }\n"]);return i=function(){return e},e}function u(){var e=(0,r.default)(["\n  margin-bottom: 35px;\n  background: #ffffff;\n  padding: 22px 28px 18px;\n  padding-bottom: 13px;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px #e3e9f3;\n  -webkit-font-smoothing: antialiased;\n"]);return u=function(){return e},e}var l=o.default.div(u());t.Wrapper=l;var d=o.default.div(i());t.Sub=d},1882:function(e,t,n){"use strict";var a=n(0),r=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=a(n(2)),u=n(20),l=a(n(104)),d=a(n(1883)),c=function(e){var t=e.isSettings?"settings":"view",n="".concat(l.default,".containers.SettingPage.").concat(t);return o.default.createElement("div",{style:{marginBottom:"18px"}},o.default.createElement(u.FormattedMessage,{id:n},(function(e){return o.default.createElement(d.default,null,e)})))};c.propTypes={isSettings:i.default.bool},c.defaultProps={isSettings:!1};var f=(0,o.memo)(c);t.default=f},1883:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  color: #787e8f;\n  font-size: 11px;\n  font-weight: 700;\n  letter-spacing: 0.77px;\n  text-transform: uppercase;\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o());t.default=i},1884:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  margin-top: 17px;\n  margin-bottom: 24px;\n  border-top: 1px solid #f6f6f6;\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o());t.default=i},1885:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(44)),o=a(n(18)),i=a(n(1)),u=n(9),l=a(n(104)),d=function(e,t,n,a,d,c){for(var f=arguments.length,s=new Array(f>6?f-6:0),p=6;p<f;p++)s[p-6]=arguments[p];var m=Object.keys(n).reduce((function(f,p){var m=n[p],g=(0,u.get)(m,"injectedComponents",[]).filter((function(n){return n.plugin==="".concat(l.default,".").concat(e)&&n.area===t})).map((function(e){var t=e.component;return i.default.createElement(t,(0,o.default)({viewProps:s,currentEnvironment:a,getModelName:function(){return d},push:c},e.props,{key:e.key}))}));return[].concat((0,r.default)(f),(0,r.default)(g))}),[]);return m};t.default=d},1905:function(e,t,n){"use strict";var a=n(8),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(40)),i=a(n(1)),u=n(20),l=r(n(2)),d=n(147),c=n(116),f=r(n(1956)),s=n(1957);function p(e){var t=e.data,n=e.isRelation,a=e.onClick,r=e.pStyle,l=e.style,p=(0,i.useState)(!1),m=(0,o.default)(p,2),g=m[0],v=m[1];return i.default.createElement(s.Wrapper,{isOpen:g,notAllowed:0===t.length,style:l},i.default.createElement(c.ButtonDropdown,{isOpen:g,toggle:function(){t.length>0&&v((function(e){return!e}))}},i.default.createElement(c.DropdownToggle,null,i.default.createElement(u.FormattedMessage,{id:(0,f.default)("containers.SettingPage.".concat(n?"add.relational-field":"add.field"))},(function(e){return i.default.createElement("p",{style:r},i.default.createElement(d.Plus,{fill:"#007eff",height:"11px",width:"11px"}),e)}))),i.default.createElement(c.DropdownMenu,null,t.map((function(e){return i.default.createElement(c.DropdownItem,{key:e,onClick:function(){a(e)}},e)})))))}p.defaultProps={data:[],isRelation:!1,onClick:function(){},pStyle:{},style:{}},p.propTypes={data:l.default.array,isRelation:l.default.bool,onClick:l.default.func,pStyle:l.default.object,style:l.default.object};var m=(0,i.memo)(p);t.default=m},1906:function(e,t,n){"use strict";var a=n(8),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(40)),i=a(n(1)),u=n(9),l=r(n(2)),d=r(n(1960)),c=r(n(651)),f=r(n(1961)),s=r(n(654)),p=r(n(1962)),m=r(n(1963)),g=(0,i.forwardRef)((function(e,t){var n=e.goTo,a=e.componentUid,r=e.componentLayouts,l=e.dynamicZoneComponents,g=e.isDragging,v=e.label,y=e.name,b=e.onClickEdit,E=e.onClickRemove,h=e.selectedItem,x=e.showLeftCarret,I=e.showRightCarret,w=e.size,_=e.style,R=e.type,D="_TEMP_"===y,C=(0,i.useState)(!1),O=(0,o.default)(C,2),S=O[0],T=O[1],M=(0,i.useState)(!1),P=(0,o.default)(M,2),k=P[0],L=P[1],F=g?.2:1,j=12===w,N=j&&S?"none":"",z=j&&S?0:"100%",A=["json","text","file","media","component","richtext","dynamiczone"],U=A.includes(R)&&!S,W=(0,u.get)(r,[a],{}),q=(0,u.get)(W,["layouts","edit"],[]),B=function(e){return"".concat(1/12*e*100,"%")};return i.default.createElement("div",{style:{width:B(w)},onDrag:function(){j&&!S&&T(!0)},onDragEnd:function(){j&&T(!1)}},i.default.createElement(p.default,{ref:t.dropRef,withLongerHeight:U,style:_},S&&j&&i.default.createElement(s.default,{style:{marginRight:"-10px"}}),i.default.createElement(i.default.Fragment,null,x&&i.default.createElement(d.default,null),i.default.createElement("div",{className:"sub",style:{width:z,opacity:F}},i.default.createElement(c.default,{goTo:n,componentUid:a,isHidden:D,isOverDynamicZone:k,label:v,name:y,onClick:b,onRemove:E,ref:t.dragRef,selectedItem:h,style:{display:N,marginRight:0,paddingRight:0},type:R,withLongerHeight:U},"component"===R&&q.map((function(e,t){var n=t===q.length-1?"29px":"",a=0===t?"5px":"";return i.default.createElement("div",{style:{display:"flex",marginBottom:n,marginTop:a},key:t},e.map((function(e){var t=(0,u.get)(W,["schema","attributes",e.name,"type"],""),n=(0,u.get)(W,["metadatas",e.name,"edit","label"],"");return i.default.createElement("div",{key:e.name,style:{width:B(e.size),marginBottom:"6px"}},i.default.createElement(c.default,{label:n,name:e.name,isSub:!0,withLongerHeight:A.includes(t)}))})))})),"dynamiczone"===R&&i.default.createElement(f.default,null,l.map((function(e){var t,n=(t=e,(0,u.get)(r,[t,"schema","info"],{name:"",icon:""})),a=n.name,o=n.icon;return i.default.createElement(m.default,{key:e,componentUid:e,friendlyName:a,icon:o,setIsOverDynamicZone:L})}))))),I&&i.default.createElement(d.default,{right:!0}))))}));g.defaultProps={goTo:function(){},componentLayouts:{},componentUid:null,dynamicZoneComponents:[],isDragging:!1,label:"",onClickEdit:function(){},onClickRemove:function(){},selectedItem:"",showLeftCarret:!1,showRightCarret:!1,size:1,style:{},type:"string"},g.propTypes={goTo:l.default.func,componentLayouts:l.default.object,componentUid:l.default.string,dynamicZoneComponents:l.default.array,isDragging:l.default.bool,label:l.default.string,name:l.default.string.isRequired,onClickEdit:l.default.func,onClickRemove:l.default.func,selectedItem:l.default.string,showLeftCarret:l.default.bool,showRightCarret:l.default.bool,size:l.default.number,style:l.default.object,type:l.default.string},g.displayName="DraggedFieldWithPreview";var v=g;t.default=v},1907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unformatLayout=t.getRowSize=t.getInputSize=t.getFieldType=t.formatLayout=t.createLayout=void 0;var a=function(e){return e.reduce((function(e,t){return e+t.size}),0)};t.getRowSize=a;t.createLayout=function(e){return e.reduce((function(e,t,n){var a={rowId:n,rowContent:t};return e.concat(a)}),[])};t.formatLayout=function(e){return e.reduce((function(e,t){var n=[],r=t.rowContent.reduce((function(e,t){var r=a(e);return"_TEMP_"===t.name?e:(r+t.size<=12?e.push(t):n.push(t),e)}),[]),o=0===e.length?0:Math.max.apply(Math,e.map((function(e){return e.rowId})))+1,i=a(r);if(i<12&&r.push({name:"_TEMP_",size:12-i}),e.push({rowId:o,rowContent:r}),n.length>0){var u=a(n);u<12&&n.push({name:"_TEMP_",size:12-u}),e.push({rowId:o+1,rowContent:n}),n=[]}return e}),[]).filter((function(e){return e.rowContent.length>0})).filter((function(e){return 1!==e.rowContent.length||"_TEMP_"!==e.rowContent[0].name}))};t.unformatLayout=function(e){return e.reduce((function(e,t){var n=t.rowContent.filter((function(e){return"_TEMP_"!==e.name}));return e.concat([n])}),[])};t.getInputSize=function(e){switch(e){case"boolean":case"date":case"integer":case"float":case"biginteger":case"decimal":case"time":return 4;case"json":case"component":case"richtext":case"dynamiczone":return 12;default:return 6}};t.getFieldType=function(e,t){return e.getIn(["modifiedData","schema","attributes",t,"type"])}},1955:function(e,t,n){"use strict";var a=n(0),r=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=a(n(2)),u=n(9),l=a(n(646)),d=a(n(1905)),c=a(n(1867)),f=n(1958),s=a(n(1959)),p=function(e){var t=e.className,n=(0,l.default)(),a=n.attributes,r=n.buttonData,i=n.layout,p=n.moveItem,m=n.moveRow,g=n.onAddData,v=n.removeField,y=(0,o.useCallback)((function(e){return(0,u.get)(a,[e,"component"],"")}),[a]),b=(0,o.useCallback)((function(e){return(0,u.get)(a,[e],{}).type}),[a]),E=(0,o.useCallback)((function(e){return(0,u.get)(a,[e],{}).components||[]}),[a]);return o.default.createElement("div",{className:t},o.default.createElement(c.default,{style:{marginTop:7,paddingTop:11,paddingLeft:5,paddingRight:5,border:"1px dashed #e3e9f3"}},i.map((function(e,t){return o.default.createElement(f.Wrapper,{key:e.rowId,style:{}},e.rowContent.map((function(e,n){var a=e.name,r=e.size;return o.default.createElement(s.default,{componentUid:y(a),dynamicZoneComponents:E(a),itemIndex:n,key:a,moveRow:m,moveItem:p,name:a,removeField:v,rowIndex:t,size:r,type:b(a)})})))})),o.default.createElement(f.Wrapper,{style:{marginBottom:10}},o.default.createElement(d.default,{data:r,onClick:g,style:{width:"100%",margin:"0 5px"}}))))};p.defaultProps={className:"col-8"},p.propTypes={className:i.default.string};var m=(0,o.memo)(p);t.default=m},1956:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(104)),o=function(e){return"".concat(r.default,".").concat(e)};t.default=o},1957:function(e,t,n){"use strict";var a=n(8),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var o=r(n(7)),i=a(n(4));function u(){var e=(0,o.default)(["\n        > div {\n          > button {\n            cursor: not-allowed !important;\n          }\n        }\n      "]);return u=function(){return e},e}function l(){var e=(0,o.default)(["\n        > div {\n          background-color: #e6f0fb !important;\n          border-color: #aed4fb !important;\n        }\n      "]);return l=function(){return e},e}function d(){var e=(0,o.default)(["\n  margin-left: 29px;\n  > div {\n    height: 30px;\n    width: 100%;\n    justify-content: space-between;\n    background: #ffffff;\n    color: #333740;\n    border-radius: 2px;\n    border: solid 1px #007eff;\n\n    > button {\n      cursor: pointer;\n      padding-left: 10px !important;\n      line-height: 30px;\n      width: 100%;\n      color: #333740;\n      text-align: left;\n      background-color: #ffffff;\n      border: none;\n      font-size: 13px;\n      font-weight: 500;\n      &:focus,\n      &:active,\n      &:hover,\n      &:visited {\n        background-color: transparent !important;\n        box-shadow: none;\n        color: #333740;\n      }\n      > p {\n        position: relative;\n        height: 100%;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        text-align: center;\n        margin-bottom: 0;\n        margin-top: -1px;\n        color: #007eff !important;\n        font-size: 13px !important;\n        svg {\n          fill: #007eff;\n          margin-right: 7px;\n          vertical-align: initial;\n        }\n      }\n    }\n    > div {\n      max-height: 180px;\n      min-width: calc(100% + 2px);\n      margin-left: -1px;\n      margin-top: -1px;\n      padding: 0;\n      border-top-left-radius: 0 !important;\n      border-top-right-radius: 0;\n      border-color: #e3e9f3 !important;\n      border-top-color: #aed4fb !important;\n      box-shadow: 0 2px 3px rgba(227, 233, 245, 0.5);\n\n      overflow: scroll;\n\n      button {\n        height: 30px;\n        padding-left: 10px !important;\n        line-height: 26px;\n        cursor: pointer;\n        font-size: 13px !important;\n        &:focus,\n        &:active,\n        &:hover,\n        &:hover {\n          background-color: #fafafb !important;\n          color: #333740;\n          outline: 0;\n        }\n        div {\n          margin: 0;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n      }\n    }\n  }\n\n  ","\n\n  ","\n"]);return d=function(){return e},e}var c=i.default.div(d(),(function(e){if(e.isOpen)return(0,i.css)(l())}),(function(e){if(e.notAllowed)return(0,i.css)(u())}));t.Wrapper=c},1958:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  display: flex;\n  margin-bottom: 6px;\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o());t.Wrapper=i},1959:function(e,t,n){"use strict";var a=n(8),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(40)),i=a(n(1)),u=n(360),l=n(647),d=r(n(2)),c=n(9),f=r(n(646)),s=r(n(1906)),p=r(n(645)),m=function(e){var t=e.componentUid,n=e.dynamicZoneComponents,a=e.itemIndex,r=e.moveItem,d=e.moveRow,m=e.name,g=e.removeField,v=e.rowIndex,y=e.size,b=e.type,E=(0,f.default)(),h=E.goTo,x=E.componentLayouts,I=E.metadatas,w=E.setEditFieldToSelect,_=E.selectedItemName,R=E.setIsDraggingSibling,D=(0,i.useRef)(null),C=(0,i.useRef)(null),O=(0,u.useDrop)({accept:p.default.EDIT_FIELD,hover:function(e,t){if(C.current&&12===e.size){var n=t.getItem().itemIndex,r=a,o=t.getItem().rowIndex,i=v;if(n!==r||o!==i){var u=C.current.getBoundingClientRect(),l=(u.bottom-u.top)/2,c=t.getClientOffset().y-u.top;o<i&&c<l||o>i&&c>l||(d(o,i),e.rowIndex=i,e.itemIndex=r)}}},drop:function(e,t){if(C.current){var n=t.getItem().itemIndex,o=a,i=t.getItem().rowIndex,u=v;if(12!==e.size&&(n!==o||i!==u)){var l=C.current.getBoundingClientRect();if(Math.abs(t.getClientOffset().x-l.left)>l.width/1.8)return r(n,o+1,i,u),e.itemIndex=o+1,void(e.rowIndex=u);r(n,o,i,u),e.itemIndex=o,e.rowIndex=u}}},collect:function(e){return{canDrop:e.canDrop(),clientOffset:e.getClientOffset(),isOver:e.isOver(),isOverCurrent:e.isOver({shallow:!0}),itemType:e.getItemType()}}}),S=(0,o.default)(O,2),T=S[0],M=T.clientOffset,P=T.isOver,k=S[1],L=(0,u.useDrag)({begin:function(){R(!0)},canDrag:function(){return"_TEMP_"!==m},collect:function(e){return{isDragging:e.isDragging(),getItem:e.getItem()}},end:function(){R(!1)},item:{type:p.default.EDIT_FIELD,itemIndex:a,rowIndex:v,name:m,size:y}}),F=(0,o.default)(L,3),j=F[0],N=j.isDragging,z=j.getItem,A=F[1],U=F[2];(0,i.useEffect)((function(){U((0,l.getEmptyImage)(),{captureDraggingState:!0})}),[U]);var W={dragRef:A(D),dropRef:k(C)},q=!1,B=!1;if(C.current&&M){var H=C.current.getBoundingClientRect();q=P&&12!==z.size&&Math.abs(M.x-H.left)<H.width/2,B=P&&12!==z.size&&Math.abs(M.x-H.left)>H.width/2,"_TEMP_"===m&&(q=P&&12!==z.size,B=!1)}return i.default.createElement(s.default,{goTo:h,componentUid:t,componentLayouts:x,dynamicZoneComponents:n,isDragging:N,label:(0,c.get)(I,[m,"edit","label"],""),name:m,onClickEdit:w,onClickRemove:function(e){e.stopPropagation(),g(v,a)},selectedItem:_,showLeftCarret:q,showRightCarret:B,size:y,type:b,ref:W})};m.defaultProps={componentUid:"",dynamicZoneComponents:[],type:"string"},m.propTypes={componentUid:d.default.string,dynamicZoneComponents:d.default.array,itemIndex:d.default.number.isRequired,moveItem:d.default.func.isRequired,moveRow:d.default.func.isRequired,name:d.default.string.isRequired,removeField:d.default.func.isRequired,rowIndex:d.default.number.isRequired,size:d.default.number.isRequired,type:d.default.string};var g=m;t.default=g},1960:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  position: absolute;\n  ","\n  height: 100%;\n  width: 2px;\n  margin-right: 3px;\n  border-radius: 2px;\n  background: #007eff;\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o(),(function(e){return e.right?"\n        right: -4px;\n      ":"\n      left: -1px;\n    "}));t.default=i},1961:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  display: flex;\n  margin: 5px 0 0px 0;\n  overflow: auto;\n  height: 119px;\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o());t.default=i},1962:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7)),o=a(n(4)),i=a(n(2));function u(){var e=(0,r.default)(["\n  display: flex;\n  position: relative;\n  min-height: ",";\n\n  .sub {\n    width: 100%;\n    padding: 0 5px;\n  }\n"]);return u=function(){return e},e}var l=o.default.div(u(),(function(e){return e.withLongerHeight?"102px":"30px"}));l.defaultProps={withLongerHeight:!1},l.propTypes={withLongerHeight:i.default.bool};var d=l;t.default=d},1963:function(e,t,n){"use strict";var a=n(8),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(40)),i=a(n(1)),u=n(34),l=r(n(2)),d=r(n(104)),c=r(n(1876)),f=r(n(1964)),s=function(e){var t=e.componentUid,n=e.friendlyName,a=e.icon,r=e.setIsOverDynamicZone,l=(0,i.useState)(!1),s=(0,o.default)(l,2),p=s[0],m=s[1],g=(0,u.useHistory)().push;return i.default.createElement(c.default,{componentUid:t,friendlyName:n,icon:a,isOver:p,onClick:function(){g("/plugins/".concat(d.default,"/ctm-configurations/edit-settings/components/").concat(t,"/"))},onMouseEvent:function(){r((function(e){return!e})),m((function(e){return!e}))},tradId:"components.DraggableAttr.edit"},i.default.createElement(f.default,{isOver:p},t))};s.defaultProps={friendlyName:"",icon:"smile"},s.propTypes={componentUid:l.default.string.isRequired,friendlyName:l.default.string,icon:l.default.string,setIsOverDynamicZone:l.default.func.isRequired};var p=s;t.default=p},1964:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  position: absolute;\n  bottom: -10px;\n  left: 105px;\n  visibility: ",";\n  line-height: 20px;\n  height: 20px;\n  padding: 0 10px;\n  background-color: #000000;\n  font-size: 12px;\n  color: #fff;\n  opacity: 0.5;\n  border: 1px solid #e3e9f3;\n  z-index: 99;\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o(),(function(e){return e.isOver?"visible":"hidden"}));t.default=i},1965:function(e,t,n){"use strict";var a=n(0),r=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=a(n(2)),u=n(20),l=function(e){var t=e.description,n=e.title;return o.default.createElement(o.default.Fragment,null,!!n&&o.default.createElement(u.FormattedMessage,{id:n}),!!t&&o.default.createElement(u.FormattedMessage,{id:t},(function(e){return o.default.createElement("p",null,e)})))};l.propTypes={description:i.default.string,title:i.default.string},l.defaultProps={description:null,title:null};var d=(0,o.memo)(l);t.default=d},1966:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(7));function o(){var e=(0,r.default)(["\n  color: #333740;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 18px;\n\n  p {\n    margin-top: 2px;\n    margin-bottom: 13px;\n    color: #9ea7b8;\n    font-size: 12px;\n    font-weight: 400;\n    line-height: normal;\n  }\n"]);return o=function(){return e},e}var i=a(n(4)).default.div(o());t.default=i},1967:function(e,t,n){"use strict";var a=n(0),r=n(8);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=a(n(2)),u=a(n(646)),l=a(n(1905)),d=a(n(1867)),c=a(n(1968)),f=function(e){var t=e.addItem,n=e.buttonData,a=e.moveItem,r=e.removeItem,i=(0,u.default)().relationsLayout;return o.default.createElement("div",{className:"col-4"},o.default.createElement(d.default,{style:{marginTop:7,paddingTop:11,paddingLeft:5,paddingRight:5,border:"1px dashed #e3e9f3"}},i.map((function(e,t){return o.default.createElement(c.default,{index:t,key:e,move:a,name:e,removeItem:r})})),o.default.createElement(l.default,{data:n,isRelation:!0,onClick:t,style:{marginLeft:10,marginRight:10,marginBottom:13}})))};f.defaultProps={buttonData:[]},f.propTypes={addItem:i.default.func.isRequired,buttonData:i.default.array,moveItem:i.default.func.isRequired,removeItem:i.default.func.isRequired};var s=(0,o.memo)(f);t.default=s},1968:function(e,t,n){"use strict";var a=n(8),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(40)),i=a(n(1)),u=n(360),l=n(647),d=r(n(2)),c=n(9),f=r(n(646)),s=r(n(1906)),p=r(n(645)),m=function(e){var t=e.index,n=e.move,a=e.name,r=e.removeItem,d=(0,f.default)(),m=d.goTo,g=d.metadatas,v=d.selectedItemName,y=d.setEditFieldToSelect,b=d.setIsDraggingSibling,E=(0,i.useRef)(null),h=(0,i.useRef)(null),x=(0,u.useDrop)({accept:p.default.EDIT_RELATION,hover:function(e,a){if(h.current){var r=e.index,o=t;if(r!==o){var i=h.current.getBoundingClientRect(),u=(i.bottom-i.top)/2,l=a.getClientOffset().y-i.top;r<o&&l<u||r>o&&l>u||(n(r,o),e.index=o)}}}}),I=(0,o.default)(x,2)[1],w=(0,u.useDrag)({item:{type:p.default.EDIT_RELATION,id:a,name:a,index:t},begin:function(){b(!0)},end:function(){b(!1)},collect:function(e){return{isDragging:e.isDragging()}}}),_=(0,o.default)(w,3),R=_[0].isDragging,D=_[1],C=_[2];(0,i.useEffect)((function(){C((0,l.getEmptyImage)(),{captureDraggingState:!1})}),[C]);var O={dragRef:D(E),dropRef:I(h)};return i.default.createElement(s.default,{isDragging:R,label:(0,c.get)(g,[a,"edit","label"],""),name:a,onClickEdit:function(){return y(a)},onClickRemove:function(e){e.stopPropagation(),r(t)},push:m,ref:O,selectedItem:v,size:12,style:{marginBottom:6,paddingLeft:5,paddingRight:5},type:"relation",i:0===t})};m.defaultProps={move:function(){}},m.propTypes={index:d.default.number.isRequired,move:d.default.func,name:d.default.string.isRequired,removeItem:d.default.func.isRequired};var g=m;t.default=g},1969:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(104)),o=function(e){var t;switch(e){case"description":case"label":case"placeholder":t="text";break;case"mainField":t="select";break;case"editable":t="bool";break;default:t=""}return{type:t,label:{id:"mainField"===e?"".concat(r.default,".containers.SettingPage.editSettings.entry.title"):"".concat(r.default,".form.Input.").concat(e)}}};t.default=o},1970:function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=t.default=void 0;var r=a(n(44)),o=n(33),i=n(9),u=n(1907),l=(0,o.fromJS)({fieldForm:{},componentLayouts:{},metaToEdit:"",initialData:{},isLoading:!0,metaForm:{},modifiedData:{}});t.initialState=l;var d=function(e,t){var n=["modifiedData","layouts","edit"],a=["modifiedData","layouts","editRelations"];switch(t.type){case"ADD_RELATION":return e.updateIn(a,(function(e){return e.push(t.name)}));case"GET_DATA_SUCCEEDED":var l=(0,i.cloneDeep)(t.data);return(0,i.set)(l,["layouts","edit"],(0,u.formatLayout)((0,u.createLayout)(l.layouts.edit))),e.update("componentLayouts",(function(){return(0,o.fromJS)(t.componentLayouts)})).update("initialData",(function(){return(0,o.fromJS)(l||{})})).update("isLoading",(function(){return!1})).update("modifiedData",(function(){return(0,o.fromJS)(l||{})}));case"MOVE_RELATION":return e.updateIn(a,(function(n){return n.delete(t.dragIndex).insert(t.hoverIndex,e.getIn([].concat(a,[t.dragIndex])))}));case"MOVE_ROW":return e.updateIn(n,(function(a){return a.delete(t.dragRowIndex).insert(t.hoverRowIndex,e.getIn([].concat(n,[t.dragRowIndex])))}));case"ON_ADD_DATA":var d=(0,u.getInputSize)(e.getIn(["modifiedData","schema","attributes",t.name,"type"])),c=e.getIn(n).size,f=e.getIn(n).updateIn([c-1,"rowContent"],(function(e){return e?e.push({name:t.name,size:d}):(0,o.fromJS)([{name:t.name,size:d}])})),s=(0,u.formatLayout)(f.toJS());return e.updateIn(n,(function(){return(0,o.fromJS)(s)}));case"ON_CHANGE":return e.updateIn(["modifiedData"].concat((0,r.default)(t.keys)),(function(){return t.value}));case"ON_CHANGE_META":return e.updateIn(["metaForm"].concat((0,r.default)(t.keys)),(function(){return t.value}));case"ON_RESET":return e.update("modifiedData",(function(){return e.get("initialData")}));case"REMOVE_FIELD":var p,m=e.getIn([].concat(n,[t.rowIndex,"rowContent"]));p=1===m.size||2==m.size&&"_TEMP_"===m.getIn([1,"name"])?e.updateIn(n,(function(e){return e.delete(t.rowIndex)})):e.updateIn([].concat(n,[t.rowIndex,"rowContent"]),(function(e){return e.delete(t.fieldIndex)}));var g=(0,o.fromJS)((0,u.formatLayout)(p.getIn(n).toJS()));return e.updateIn(n,(function(){return g}));case"REMOVE_RELATION":return e.updateIn(a,(function(e){return e.delete(t.index)}));case"REORDER_DIFF_ROW":var v=e.updateIn([].concat(n,[t.dragRowIndex,"rowContent"]),(function(e){return e.remove(t.dragIndex)})).updateIn([].concat(n,[t.hoverRowIndex,"rowContent"]),(function(a){return a.insert(t.hoverIndex,e.getIn([].concat(n,[t.dragRowIndex,"rowContent",t.dragIndex])))})),y=(0,u.formatLayout)(v.getIn(n).toJS());return e.updateIn(n,(function(){return(0,o.fromJS)(y)}));case"REORDER_ROW":var b=e.updateIn([].concat(n,[t.dragRowIndex,"rowContent"]),(function(e){return e.delete(t.dragIndex).insert(t.hoverIndex,e.get(t.dragIndex))})),E=(0,u.formatLayout)(b.getIn(n).toJS());return e.updateIn(n,(function(){return(0,o.fromJS)(E)}));case"SET_FIELD_TO_EDIT":return e.update("metaToEdit",(function(){return t.name})).updateIn(["metaForm"],(function(){return e.getIn(["modifiedData","metadatas",t.name,"edit"])}));case"SUBMIT_META_FORM":var h=["modifiedData","metadatas",e.get("metaToEdit"),"edit"];return e.updateIn(h,(function(){return e.getIn(["metaForm"])}));case"SUBMIT_SUCCEEDED":return e.update("initialData",(function(){return e.get("modifiedData")}));case"UNSET_FIELD_TO_EDIT":return e.update("metaToEdit",(function(){return""})).update("metaForm",(function(){return(0,o.fromJS)({})}));default:return e}};t.default=d}}]);